cafebabe
0
50
com/hoolai/red5/HoolaiApplication
org/red5/server/adapter/ApplicationAdapter
logger
Lorg/apache/log4j/Logger;
CONN_USER_MESS_KEY
Ljava/lang/String;
ConstantValue
conn_user_mess
CONN_USER_NAME_KEY
conn_user_name
CONN_USER_RECODE_NAME_KEY
now_recode_name
app
Lorg/red5/server/api/IScope;
onlineClientMap
Ljava/util/concurrent/ConcurrentHashMap;
Signature
Ljava/util/concurrent/ConcurrentHashMap<Ljava/lang/String;Lorg/red5/server/api/IConnection;>;
userService
Lcom/hoolai/red5/service/UserService;
RuntimeVisibleAnnotations
Lorg/springframework/beans/factory/annotation/Autowired;
playbackFileService
Lcom/hoolai/red5/service/PlaybackFileService;
CHAT_GENERATEE
Ljava/util/concurrent/atomic/AtomicLong;
<clinit>
()V
Code
red5
org/apache/log4j/Logger
getLogger
(Ljava/lang/String;)Lorg/apache/log4j/Logger;
LineNumberTable
LocalVariableTable
<init>
java/util/concurrent/ConcurrentHashMap
java/util/concurrent/atomic/AtomicLong
(J)V
this
Lcom/hoolai/red5/HoolaiApplication;
appStart
(Lorg/red5/server/api/IScope;)Z
服务器启动失败!!!!
error
(Ljava/lang/Object;)V
scheduledJob
security
服务器启动了!!!!
info
StackMapTable
appStop
(Lorg/red5/server/api/IScope;)V
服务器停止了!!!!
appJoin
(Lorg/red5/server/api/IClient;Lorg/red5/server/api/IScope;)Z
app join fail....
app join succ....
client
Lorg/red5/server/api/IClient;
appLeave
(Lorg/red5/server/api/IClient;Lorg/red5/server/api/IScope;)V
app leave succ....
appConnect
(Lorg/red5/server/api/IConnection;[Ljava/lang/Object;)Z
java/lang/StringBuilder
host:
(Ljava/lang/String;)V
org/red5/server/api/IConnection
getHost
()Ljava/lang/String;
append
(Ljava/lang/String;)Ljava/lang/StringBuilder;
 connect...
toString
debug
 there is not userName ......
java/lang/String
1
equals
(Ljava/lang/Object;)Z
login
(Ljava/lang/String;Ljava/lang/String;)Z
containsKey
 userName:
 is not login.....
setAttribute
(Ljava/lang/String;Ljava/lang/Object;)Z
conn
Lorg/red5/server/api/IConnection;
params
[Ljava/lang/Object;
type
userName
pass
appDisconnect
(Lorg/red5/server/api/IConnection;)V
 disconnect...
hasAttribute
(Ljava/lang/String;)Z
removeAttribute
getAttribute
(Ljava/lang/String;)Ljava/lang/Object;
com/hoolai/red5/model/User
getUserName
remove
(Ljava/lang/Object;)Ljava/lang/Object;
java/lang/Exception
getMessage
(Ljava/lang/Object;Ljava/lang/Throwable;)V
user
Lcom/hoolai/red5/model/User;
e
Ljava/lang/Exception;
java/lang/Throwable
streamBroadcastClose
(Lorg/red5/server/api/stream/IBroadcastStream;)V
org/red5/server/api/Red5
getConnectionLocal
()Lorg/red5/server/api/IConnection;
java/lang/System
currentTimeMillis
()J
org/red5/server/api/stream/IBroadcastStream
getCreationTime
getSaveFilename
org/apache/commons/lang3/StringUtils
isEmpty
(Ljava/lang/CharSequence;)Z
red5.webapp.root
getProperty
(Ljava/lang/String;)Ljava/lang/String;
java/io/File
getName
valueOf
(Ljava/lang/Object;)Ljava/lang/String;
(C)Ljava/lang/StringBuilder;
(Ljava/lang/String;Ljava/lang/String;)V
log
Lorg/slf4j/Logger;
File path: {}
getAbsolutePath
org/slf4j/Logger
(Ljava/lang/String;Ljava/lang/Object;)V
exists
()Z
length
delete
File {} was deleted
File {} was not deleted, it will be deleted on exit
deleteOnExit
com/hoolai/red5/model/PlaybackFile
com/hoolai/red5/model/PlaybackFile$Type
USER_VIDEO
Lcom/hoolai/red5/model/PlaybackFile$Type;
(Lcom/hoolai/red5/model/PlaybackFile$Type;Ljava/lang/String;)V
getCurrentUser
()Lcom/hoolai/red5/model/User;
setBackgroundId
setUser
com/hoolai/red5/service/PlaybackFileService
addMyBackPlaybackFile
(Ljava/lang/String;Lcom/hoolai/red5/model/PlaybackFile;)V
stream
Lorg/red5/server/api/stream/IBroadcastStream;
publishDuration
J
recordingName
webappsPath
file
Ljava/io/File;
playbackFile
Lcom/hoolai/red5/model/PlaybackFile;
songName
com/hoolai/red5/task/ConnectionTimeoutProcesserTask
java/lang/Long
CONN_TIME_OUT_TIME
intValue
()I
addScheduledJob
(ILorg/red5/server/api/scheduling/IScheduledJob;)Ljava/lang/String;
connectionTimeoutProcesserTask
Lcom/hoolai/red5/task/ConnectionTimeoutProcesserTask;
com/hoolai/red5/security/UserStreamPlaybackSecurity
registerStreamPlaybackSecurity
(Lorg/red5/server/api/stream/IStreamPlaybackSecurity;)V
com/hoolai/red5/security/UserStreamPublishSecurity
registerStreamPublishSecurity
(Lorg/red5/server/api/stream/IStreamPublishSecurity;)V
com/hoolai/red5/service/UserService
(Ljava/lang/String;Ljava/lang/String;)Lcom/hoolai/red5/model/User;
isConnected
put
(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
password
get
busiConn
bgSound
()Ljava/util/List;
()Ljava/util/List<Lcom/hoolai/red5/model/PlaybackFile;>;
getBackPlaybackFiles
getMySong
getMyBackPlaybackFiles
(Ljava/lang/String;)Ljava/util/List;
setUserService
(Lcom/hoolai/red5/service/UserService;)V
setPlaybackFileService
(Lcom/hoolai/red5/service/PlaybackFileService;)V
SourceFile
HoolaiApplication.java
InnerClasses
Type
33
1
3
0
408
